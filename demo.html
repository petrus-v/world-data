<!--
    @license
    This file is part of world-data element.

    world-data is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    any later version.

    world-data is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with world-data. If not, see <http://www.gnu.org/licenses/>.
-->
<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>world-data Demo</title>

  <script src="../platform/platform.js"></script>
  <link rel="import" href="world-data.html">

</head>
<body unresolved>

  <p>An example of using <code>&lt;world-data></code>:</p>

  <world-data>
    <h2>Hello world-data</h2>
  </world-data>
  <script>
    // Wait for 'polymer-ready'. Ensures the element is upgraded.
    window.addEventListener('polymer-ready', function(e) {
      var world = document.querySelector('world-data');
      console.log(world.world);
      var newWorld = {};
      newWorld.viewBox = world.world.viewBox;
      newWorld.continents = {};
      world.world.continents.forEach(function(continent){
        newWorld.continents[continent.continent_code] = {'viewBox': continent.viewBox,
                                                         'code': continent.continent_code};
        var names = {};
        continent.names.forEach(function(name){
          names[name.lang] = name.value.trim();
        });
        var countries = {};
        continent.countries.forEach(function(country){
          countries[country.country_code] = {};
          countries[country.country_code] = {'code': country.country_code,
                                             'continent_code': continent.continent_code}
          if (country.path){
            countries[country.country_code].path = country.path;
          }
          var country_names = {};
          country.names.forEach(function(name){
            country_names[name.lang] = name.value.trim();
          });
          countries[country.country_code].name = country_names;
        });
        newWorld.continents[continent.continent_code].name = names;
        newWorld.continents[continent.continent_code].countries = countries;
      });
      console.log(newWorld);
      console.log(JSON.stringify(newWorld));

    });

  </script>
</body>
</html>
